{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":193},"end":{"line":4,"column":35,"index":228}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('token');\n        if (token) {\n          const userData = await _utilsApi.api.getProfile();\n          setUser(userData);\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        await AsyncStorage.default.removeItem('token');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      const response = await _utilsApi.api.login(email, password);\n      await AsyncStorage.default.setItem('token', response.token);\n      setUser(response.user);\n\n      // Update streak\n      try {\n        await _utilsApi.api.updateStreak();\n      } catch (error) {\n        console.error('Streak update failed:', error);\n      }\n    };\n    const register = async (username, email, password) => {\n      const response = await _utilsApi.api.register(username, email, password);\n      await AsyncStorage.default.setItem('token', response.token);\n      setUser(response.user);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      try {\n        const userData = await _utilsApi.api.getProfile();\n        setUser(userData);\n      } catch (error) {\n        console.error('Failed to refresh user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        register,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":114,"map":[[15,2,17,0,"Object"],[15,8,17,0],[15,9,17,0,"defineProperty"],[15,23,17,0],[15,24,17,0,"exports"],[15,31,17,0],[16,4,17,0,"enumerable"],[16,14,17,0],[17,4,17,0,"get"],[17,7,17,0],[17,18,17,0,"get"],[17,19,17,0],[18,6,17,0],[18,13,17,0,"AuthProvider"],[18,25,17,0],[19,4,17,0],[20,2,17,0],[21,2,80,0,"Object"],[21,8,80,0],[21,9,80,0,"defineProperty"],[21,23,80,0],[21,24,80,0,"exports"],[21,31,80,0],[22,4,80,0,"enumerable"],[22,14,80,0],[23,4,80,0,"get"],[23,7,80,0],[23,18,80,0,"get"],[23,19,80,0],[24,6,80,0],[24,13,80,0,"useAuth"],[24,20,80,0],[25,4,80,0],[26,2,80,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,4,0],[30,6,4,0,"_utilsApi"],[30,15,4,0],[30,18,4,0,"require"],[30,25,4,0],[30,26,4,0,"_dependencyMap"],[30,40,4,0],[31,2,4,35],[31,6,4,35,"_reactJsxDevRuntime"],[31,25,4,35],[31,28,4,35,"require"],[31,35,4,35],[31,36,4,35,"_dependencyMap"],[31,50,4,35],[32,2,15,0],[32,8,15,6,"AuthContext"],[32,19,15,17],[32,35,15,20],[32,39,15,20,"createContext"],[32,45,15,33],[32,46,15,33,"createContext"],[32,59,15,33],[32,61,15,63,"undefined"],[32,70,15,72],[32,71,15,73],[33,2,17,7],[33,8,17,13,"AuthProvider"],[33,20,17,25],[33,23,17,28,"AuthProvider"],[33,24,17,29],[34,4,17,31,"children"],[35,2,17,65],[35,3,17,66],[35,8,17,71],[36,4,17,71,"_s"],[36,6,17,71],[37,4,18,2],[37,10,18,8],[37,11,18,9,"user"],[37,15,18,13],[37,17,18,15,"setUser"],[37,24,18,22],[37,25,18,23],[37,28,18,26],[37,32,18,26,"useState"],[37,38,18,34],[37,39,18,34,"useState"],[37,47,18,34],[37,49,18,48],[37,53,18,52],[37,54,18,53],[38,4,19,2],[38,10,19,8],[38,11,19,9,"loading"],[38,18,19,16],[38,20,19,18,"setLoading"],[38,30,19,28],[38,31,19,29],[38,34,19,32],[38,38,19,32,"useState"],[38,44,19,40],[38,45,19,40,"useState"],[38,53,19,40],[38,55,19,41],[38,59,19,45],[38,60,19,46],[39,4,21,2],[39,8,21,2,"useEffect"],[39,14,21,11],[39,15,21,11,"useEffect"],[39,24,21,11],[39,26,21,12],[39,32,21,18],[40,6,22,4,"checkAuth"],[40,15,22,13],[40,16,22,14],[40,17,22,15],[41,4,23,2],[41,5,23,3],[41,7,23,5],[41,9,23,7],[41,10,23,8],[42,4,25,2],[42,10,25,8,"checkAuth"],[42,19,25,17],[42,22,25,20],[42,28,25,20,"checkAuth"],[42,29,25,20],[42,34,25,32],[43,6,26,4],[43,10,26,8],[44,8,27,6],[44,14,27,12,"token"],[44,19,27,17],[44,22,27,20],[44,28,27,26,"AsyncStorage"],[44,40,27,38],[44,41,27,38,"default"],[44,48,27,38],[44,49,27,39,"getItem"],[44,56,27,46],[44,57,27,47],[44,64,27,54],[44,65,27,55],[45,8,28,6],[45,12,28,10,"token"],[45,17,28,15],[45,19,28,17],[46,10,29,8],[46,16,29,14,"userData"],[46,24,29,22],[46,27,29,25],[46,33,29,31,"api"],[46,42,29,34],[46,43,29,34,"api"],[46,46,29,34],[46,47,29,35,"getProfile"],[46,57,29,45],[46,58,29,46],[46,59,29,47],[47,10,30,8,"setUser"],[47,17,30,15],[47,18,30,16,"userData"],[47,26,30,24],[47,27,30,25],[48,8,31,6],[49,6,32,4],[49,7,32,5],[49,8,32,6],[49,15,32,13,"error"],[49,20,32,18],[49,22,32,20],[50,8,33,6,"console"],[50,15,33,13],[50,16,33,14,"error"],[50,21,33,19],[50,22,33,20],[50,42,33,40],[50,44,33,42,"error"],[50,49,33,47],[50,50,33,48],[51,8,34,6],[51,14,34,12,"AsyncStorage"],[51,26,34,24],[51,27,34,24,"default"],[51,34,34,24],[51,35,34,25,"removeItem"],[51,45,34,35],[51,46,34,36],[51,53,34,43],[51,54,34,44],[52,6,35,4],[52,7,35,5],[52,16,35,14],[53,8,36,6,"setLoading"],[53,18,36,16],[53,19,36,17],[53,24,36,22],[53,25,36,23],[54,6,37,4],[55,4,38,2],[55,5,38,3],[56,4,40,2],[56,10,40,8,"login"],[56,15,40,13],[56,18,40,16],[56,24,40,16,"login"],[56,25,40,23,"email"],[56,30,40,36],[56,32,40,38,"password"],[56,40,40,54],[56,45,40,59],[57,6,41,4],[57,12,41,10,"response"],[57,20,41,18],[57,23,41,21],[57,29,41,27,"api"],[57,38,41,30],[57,39,41,30,"api"],[57,42,41,30],[57,43,41,31,"login"],[57,48,41,36],[57,49,41,37,"email"],[57,54,41,42],[57,56,41,44,"password"],[57,64,41,52],[57,65,41,53],[58,6,42,4],[58,12,42,10,"AsyncStorage"],[58,24,42,22],[58,25,42,22,"default"],[58,32,42,22],[58,33,42,23,"setItem"],[58,40,42,30],[58,41,42,31],[58,48,42,38],[58,50,42,40,"response"],[58,58,42,48],[58,59,42,49,"token"],[58,64,42,54],[58,65,42,55],[59,6,43,4,"setUser"],[59,13,43,11],[59,14,43,12,"response"],[59,22,43,20],[59,23,43,21,"user"],[59,27,43,25],[59,28,43,26],[61,6,45,4],[62,6,46,4],[62,10,46,8],[63,8,47,6],[63,14,47,12,"api"],[63,23,47,15],[63,24,47,15,"api"],[63,27,47,15],[63,28,47,16,"updateStreak"],[63,40,47,28],[63,41,47,29],[63,42,47,30],[64,6,48,4],[64,7,48,5],[64,8,48,6],[64,15,48,13,"error"],[64,20,48,18],[64,22,48,20],[65,8,49,6,"console"],[65,15,49,13],[65,16,49,14,"error"],[65,21,49,19],[65,22,49,20],[65,45,49,43],[65,47,49,45,"error"],[65,52,49,50],[65,53,49,51],[66,6,50,4],[67,4,51,2],[67,5,51,3],[68,4,53,2],[68,10,53,8,"register"],[68,18,53,16],[68,21,53,19],[68,27,53,19,"register"],[68,28,53,26,"username"],[68,36,53,42],[68,38,53,44,"email"],[68,43,53,57],[68,45,53,59,"password"],[68,53,53,75],[68,58,53,80],[69,6,54,4],[69,12,54,10,"response"],[69,20,54,18],[69,23,54,21],[69,29,54,27,"api"],[69,38,54,30],[69,39,54,30,"api"],[69,42,54,30],[69,43,54,31,"register"],[69,51,54,39],[69,52,54,40,"username"],[69,60,54,48],[69,62,54,50,"email"],[69,67,54,55],[69,69,54,57,"password"],[69,77,54,65],[69,78,54,66],[70,6,55,4],[70,12,55,10,"AsyncStorage"],[70,24,55,22],[70,25,55,22,"default"],[70,32,55,22],[70,33,55,23,"setItem"],[70,40,55,30],[70,41,55,31],[70,48,55,38],[70,50,55,40,"response"],[70,58,55,48],[70,59,55,49,"token"],[70,64,55,54],[70,65,55,55],[71,6,56,4,"setUser"],[71,13,56,11],[71,14,56,12,"response"],[71,22,56,20],[71,23,56,21,"user"],[71,27,56,25],[71,28,56,26],[72,4,57,2],[72,5,57,3],[73,4,59,2],[73,10,59,8,"logout"],[73,16,59,14],[73,19,59,17],[73,25,59,17,"logout"],[73,26,59,17],[73,31,59,29],[74,6,60,4],[74,12,60,10,"AsyncStorage"],[74,24,60,22],[74,25,60,22,"default"],[74,32,60,22],[74,33,60,23,"removeItem"],[74,43,60,33],[74,44,60,34],[74,51,60,41],[74,52,60,42],[75,6,61,4,"setUser"],[75,13,61,11],[75,14,61,12],[75,18,61,16],[75,19,61,17],[76,4,62,2],[76,5,62,3],[77,4,64,2],[77,10,64,8,"refreshUser"],[77,21,64,19],[77,24,64,22],[77,30,64,22,"refreshUser"],[77,31,64,22],[77,36,64,34],[78,6,65,4],[78,10,65,8],[79,8,66,6],[79,14,66,12,"userData"],[79,22,66,20],[79,25,66,23],[79,31,66,29,"api"],[79,40,66,32],[79,41,66,32,"api"],[79,44,66,32],[79,45,66,33,"getProfile"],[79,55,66,43],[79,56,66,44],[79,57,66,45],[80,8,67,6,"setUser"],[80,15,67,13],[80,16,67,14,"userData"],[80,24,67,22],[80,25,67,23],[81,6,68,4],[81,7,68,5],[81,8,68,6],[81,15,68,13,"error"],[81,20,68,18],[81,22,68,20],[82,8,69,6,"console"],[82,15,69,13],[82,16,69,14,"error"],[82,21,69,19],[82,22,69,20],[82,47,69,45],[82,49,69,47,"error"],[82,54,69,52],[82,55,69,53],[83,6,70,4],[84,4,71,2],[84,5,71,3],[85,4,73,2],[85,24,74,4],[85,28,74,4,"_reactJsxDevRuntime"],[85,47,74,4],[85,48,74,4,"jsxDEV"],[85,54,74,4],[85,56,74,5,"AuthContext"],[85,67,74,16],[85,68,74,17,"Provider"],[85,76,74,25],[86,6,74,26,"value"],[86,11,74,31],[86,13,74,33],[87,8,74,35,"user"],[87,12,74,39],[88,8,74,41,"loading"],[88,15,74,48],[89,8,74,50,"login"],[89,13,74,55],[90,8,74,57,"register"],[90,16,74,65],[91,8,74,67,"logout"],[91,14,74,73],[92,8,74,75,"refreshUser"],[93,6,74,87],[93,7,74,89],[94,6,74,89,"children"],[94,14,74,89],[94,16,75,7,"children"],[95,4,75,15],[96,6,75,15,"fileName"],[96,14,75,15],[96,16,75,15,"_jsxFileName"],[96,28,75,15],[97,6,75,15,"lineNumber"],[97,16,75,15],[98,6,75,15,"columnNumber"],[98,18,75,15],[99,4,75,15],[99,11,76,26],[99,12,76,27],[100,2,78,0],[100,3,78,1],[101,2,78,2,"_s"],[101,4,78,2],[101,5,17,13,"AuthProvider"],[101,17,17,25],[102,2,17,25,"_c"],[102,4,17,25],[102,7,17,13,"AuthProvider"],[102,19,17,25],[103,2,80,7],[103,8,80,13,"useAuth"],[103,15,80,20],[103,18,80,23,"useAuth"],[103,19,80,23],[103,24,80,29],[104,4,80,29,"_s2"],[104,7,80,29],[105,4,81,2],[105,10,81,8,"context"],[105,17,81,15],[105,20,81,18],[105,24,81,18,"useContext"],[105,30,81,28],[105,31,81,28,"useContext"],[105,41,81,28],[105,43,81,29,"AuthContext"],[105,54,81,40],[105,55,81,41],[106,4,82,2],[106,8,82,6],[106,9,82,7,"context"],[106,16,82,14],[106,18,82,16],[107,6,83,4],[107,12,83,10],[107,16,83,14,"Error"],[107,21,83,19],[107,22,83,20],[107,64,83,62],[107,65,83,63],[108,4,84,2],[109,4,85,2],[109,11,85,9,"context"],[109,18,85,16],[110,2,86,0],[110,3,86,1],[111,2,86,2,"_s2"],[111,5,86,2],[111,6,80,13,"useAuth"],[111,13,80,20],[112,2,80,20],[112,6,80,20,"_c"],[112,8,80,20],[113,2,80,20,"$RefreshReg$"],[113,14,80,20],[113,15,80,20,"_c"],[113,17,80,20],[114,0,80,20],[114,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;4BCgB;YCI;GDE;oBEE;GFa;gBGE;GHW;mBIE;GJI;iBKE;GLG;sBME;GNO;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}